{"ast":null,"code":"var _jsxFileName = \"D:\\\\eotg\\\\react-app\\\\src\\\\components\\\\NewsPage.js\";\nimport React, { Component } from 'react';\nimport { NewsItem } from './NewsItem';\n\nconst cosmos = require('./CosmosDB');\n\nexport class NewsPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsItems: null,\n      connectionIssue: false\n    };\n\n    this.renderNewsItem = () => {\n      if (this.state.newsItems !== null) {\n        const sortedNews = this.state.newsItems.sort((a, b) => new Date(b.newsItems.date) - new Date(a.newsItems.date));\n        return sortedNews.map(e => /*#__PURE__*/React.createElement(NewsItem, {\n          key: e.newsItems.id,\n          newsData: e.newsItems,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 9\n          }\n        }));\n      } else if (this.state.connectionIssue) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"connection-issue\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 9\n          }\n        }, \"Having trouble connecting. \", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 38\n          }\n        }), \"Please make sure you are connected to the internet...\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"loading\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 14\n          }\n        }, \"Loading news...\");\n      }\n    };\n  }\n\n  async componentDidMount() {\n    await cosmos.getNews().then(async result => this.setState({\n      newsItems: result\n    })).then(() => this.props.toggleButton()).catch(() => this.setState({\n      connectionIssue: true\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"news\",\n      className: \"main-content fade \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, this.renderNewsItem(), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nexport default NewsPage;","map":{"version":3,"sources":["D:/eotg/react-app/src/components/NewsPage.js"],"names":["React","Component","NewsItem","cosmos","require","NewsPage","state","newsItems","connectionIssue","renderNewsItem","sortedNews","sort","a","b","Date","date","map","e","id","componentDidMount","getNews","then","result","setState","props","toggleButton","catch","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,YAAzB;;AAEA,MAAMC,MAAM,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AAEA,OAAO,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SACtCK,KADsC,GAC9B;AACNC,MAAAA,SAAS,EAAE,IADL;AAENC,MAAAA,eAAe,EAAE;AAFX,KAD8B;;AAAA,SActCC,cAdsC,GAcrB,MAAM;AACrB,UAAI,KAAKH,KAAL,CAAWC,SAAX,KAAyB,IAA7B,EAAmC;AACjC,cAAMG,UAAU,GAAG,KAAKJ,KAAL,CAAWC,SAAX,CAAqBI,IAArB,CAA0B,CAACC,CAAD,EAAIC,CAAJ,KAAU,IAAIC,IAAJ,CAASD,CAAC,CAACN,SAAF,CAAYQ,IAArB,IAA6B,IAAID,IAAJ,CAASF,CAAC,CAACL,SAAF,CAAYQ,IAArB,CAAjE,CAAnB;AACA,eAAOL,UAAU,CAACM,GAAX,CAAgBC,CAAD,iBACpB,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEA,CAAC,CAACV,SAAF,CAAYW,EAA3B;AAA+B,UAAA,QAAQ,EAAED,CAAC,CAACV,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADK,CAAP;AAGD,OALD,MAKO,IAAI,KAAKD,KAAL,CAAWE,eAAf,EAAgC;AACrC,4BACE;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAD7B,0DADF;AAMD,OAPM,MAOA;AACL,4BAAO;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAP;AACD;AACF,KA9BqC;AAAA;;AAMtC,QAAMW,iBAAN,GAA0B;AACxB,UAAMhB,MAAM,CACTiB,OADG,GAEHC,IAFG,CAEE,MAAOC,MAAP,IAAkB,KAAKC,QAAL,CAAc;AAAEhB,MAAAA,SAAS,EAAEe;AAAb,KAAd,CAFpB,EAGHD,IAHG,CAGE,MAAM,KAAKG,KAAL,CAAWC,YAAX,EAHR,EAIHC,KAJG,CAIG,MAAM,KAAKH,QAAL,CAAc;AAAEf,MAAAA,eAAe,EAAE;AAAnB,KAAd,CAJT,CAAN;AAKD;;AAoBDmB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,SAAS,EAAC,oBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKlB,cAAL,EADH,eAEE;AAAK,MAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAMD;;AAvCqC;AA0CxC,eAAeJ,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { NewsItem } from './NewsItem';\r\n\r\nconst cosmos = require('./CosmosDB');\r\n\r\nexport class NewsPage extends Component {\r\n  state = {\r\n    newsItems: null,\r\n    connectionIssue: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await cosmos\r\n      .getNews()\r\n      .then(async (result) => this.setState({ newsItems: result }))\r\n      .then(() => this.props.toggleButton())\r\n      .catch(() => this.setState({ connectionIssue: true }));\r\n  }\r\n\r\n  renderNewsItem = () => {\r\n    if (this.state.newsItems !== null) {\r\n      const sortedNews = this.state.newsItems.sort((a, b) => new Date(b.newsItems.date) - new Date(a.newsItems.date))\r\n      return sortedNews.map((e) => (\r\n        <NewsItem key={e.newsItems.id} newsData={e.newsItems} />\r\n      ));\r\n    } else if (this.state.connectionIssue) {\r\n      return (\r\n        <div className=\"connection-issue\">\r\n          Having trouble connecting. <br />\r\n          Please make sure you are connected to the internet...\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div className=\"loading\">Loading news...</div>;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"news\" className=\"main-content fade \">\r\n        {this.renderNewsItem()}\r\n        <div id=\"spacer\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewsPage;\r\n"]},"metadata":{},"sourceType":"module"}