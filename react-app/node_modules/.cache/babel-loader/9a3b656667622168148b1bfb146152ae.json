{"ast":null,"code":"var _jsxFileName = \"D:\\\\eotg\\\\react-app\\\\src\\\\components\\\\Search.js\";\n\n/* eslint-disable no-console */\nimport React from 'react';\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport { Combobox, ComboboxPopover, ComboboxList, ComboboxInput, ComboboxOption } from '@reach/combobox';\nexport function Search({\n  panTo\n}) {\n  const {\n    ready,\n    value,\n    suggestions: {\n      status,\n      data\n    },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: {\n        lat: () => 54.029578,\n        lng: () => -4.153496\n      },\n      radius: 600 * 1000\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Combobox, {\n    onSelect: async address => {\n      setValue('');\n      clearSuggestions();\n\n      try {\n        const results = await getGeocode({\n          address\n        });\n        const {\n          lat,\n          lng\n        } = await getLatLng(results[0]);\n        panTo({\n          lat,\n          lng\n        }, 14);\n      } catch (error) {\n        console.log('error: ', error);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxInput, {\n    value: value,\n    onChange: e => {\n      setValue(e.target.value);\n    },\n    disabled: !ready,\n    placeholder: \"Go to...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ComboboxPopover, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, status === 'OK' && data.map(({\n    place_id,\n    description\n  }) => /*#__PURE__*/React.createElement(ComboboxOption, {\n    key: place_id,\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }))))));\n}\nexport default Search;","map":{"version":3,"sources":["D:/eotg/react-app/src/components/Search.js"],"names":["React","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxPopover","ComboboxList","ComboboxInput","ComboboxOption","Search","panTo","ready","value","suggestions","status","data","setValue","clearSuggestions","requestOptions","location","lat","lng","radius","address","results","error","console","log","e","target","map","place_id","description"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,IACEC,UADF,EAEEC,SAFF,QAGO,yBAHP;AAIA,SACEC,QADF,EAEEC,eAFF,EAGEC,YAHF,EAIEC,aAJF,EAKEC,cALF,QAMO,iBANP;AAQA,OAAO,SAASC,MAAT,CAAgB;AAAEC,EAAAA;AAAF,CAAhB,EAA2B;AAChC,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAHT;AAIJC,IAAAA,QAJI;AAKJC,IAAAA;AALI,MAMFhB,qBAAqB,CAAC;AACxBiB,IAAAA,cAAc,EAAE;AACdC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,GAAG,EAAE,MAAM,SAAb;AAAwBC,QAAAA,GAAG,EAAE,MAAM,CAAC;AAApC,OADI;AAEdC,MAAAA,MAAM,EAAE,MAAM;AAFA;AADQ,GAAD,CANzB;AAaA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,QAAQ,EAAE,MAAOC,OAAP,IAAmB;AAC3BP,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAC,MAAAA,gBAAgB;;AAChB,UAAI;AACF,cAAMO,OAAO,GAAG,MAAMtB,UAAU,CAAC;AAAEqB,UAAAA;AAAF,SAAD,CAAhC;AACA,cAAM;AAAEH,UAAAA,GAAF;AAAOC,UAAAA;AAAP,YAAe,MAAMlB,SAAS,CAACqB,OAAO,CAAC,CAAD,CAAR,CAApC;AACAd,QAAAA,KAAK,CAAC;AAAEU,UAAAA,GAAF;AAAOC,UAAAA;AAAP,SAAD,EAAe,EAAf,CAAL;AACD,OAJD,CAIE,OAAOI,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;AACD;AACF,KAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAaE,oBAAC,aAAD;AACE,IAAA,KAAK,EAAEb,KADT;AAEE,IAAA,QAAQ,EAAGgB,CAAD,IAAO;AACfZ,MAAAA,QAAQ,CAACY,CAAC,CAACC,MAAF,CAASjB,KAAV,CAAR;AACD,KAJH;AAKE,IAAA,QAAQ,EAAE,CAACD,KALb;AAME,IAAA,WAAW,EAAC,UANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAqBE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,MAAM,KAAK,IAAX,IACCC,IAAI,CAACe,GAAL,CAAS,CAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD,kBAEP,oBAAC,cAAD;AAAgB,IAAA,GAAG,EAAED,QAArB;AAA+B,IAAA,KAAK,EAAEC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFJ,CADF,CArBF,CADF,CADF;AAmCD;AACD,eAAevB,MAAf","sourcesContent":["/* eslint-disable no-console */\r\nimport React from 'react';\r\nimport usePlacesAutocomplete, {\r\n  getGeocode,\r\n  getLatLng,\r\n} from 'use-places-autocomplete';\r\nimport {\r\n  Combobox,\r\n  ComboboxPopover,\r\n  ComboboxList,\r\n  ComboboxInput,\r\n  ComboboxOption,\r\n} from '@reach/combobox';\r\n\r\nexport function Search({ panTo }) {\r\n  const {\r\n    ready,\r\n    value,\r\n    suggestions: { status, data },\r\n    setValue,\r\n    clearSuggestions,\r\n  } = usePlacesAutocomplete({\r\n    requestOptions: {\r\n      location: { lat: () => 54.029578, lng: () => -4.153496 },\r\n      radius: 600 * 1000,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Combobox\r\n        onSelect={async (address) => {\r\n          setValue('');\r\n          clearSuggestions();\r\n          try {\r\n            const results = await getGeocode({ address });\r\n            const { lat, lng } = await getLatLng(results[0]);\r\n            panTo({ lat, lng }, 14);\r\n          } catch (error) {\r\n            console.log('error: ', error);\r\n          }\r\n        }}\r\n      >\r\n        <ComboboxInput\r\n          value={value}\r\n          onChange={(e) => {\r\n            setValue(e.target.value);\r\n          }}\r\n          disabled={!ready}\r\n          placeholder=\"Go to...\"\r\n        />\r\n        <ComboboxPopover>\r\n          <ComboboxList>\r\n            {status === 'OK' &&\r\n              data.map(({ place_id, description }) => (\r\n               \r\n                <ComboboxOption key={place_id} value={description} />\r\n              ))}\r\n          </ComboboxList>\r\n        </ComboboxPopover>\r\n      </Combobox>\r\n    </div>\r\n  );\r\n}\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}